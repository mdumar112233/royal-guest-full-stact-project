{"ast":null,"code":"var _jsxFileName = \"/home/md/Desktop/web development with jhankar mahmud/royal-guest-full-stact-project/client/src/Components/UserSignUPAndSignIn/LoginUser/CreateAccount.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport googleIcon from '../../image/googleIcon.png';\nimport './Login.css';\nimport { UserContext } from '../../App';\nimport { createAccountAndLogin, initializeFirebase } from './LoginManager';\nimport { Redirect, useHistory, useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateAccount = () => {\n  _s();\n\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n  const history = useHistory();\n  const location = useLocation();\n  let {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n  const [user, setUser] = useState({\n    isSignUp: false,\n    name: '',\n    email: '',\n    password: '',\n    error: '',\n    success: false\n  });\n  initializeFirebase();\n\n  const handleChange = e => {\n    let isInputValid;\n\n    if (e.target.name === 'email') {\n      isInputValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\n    }\n\n    if (e.target.name === 'password') {\n      isInputValid = e.target.value.length > 6;\n    }\n\n    if (isInputValid) {\n      const newUserInfo = { ...user\n      };\n      newUserInfo[e.target.name] = e.target.value;\n      setUser(newUserInfo);\n    }\n  };\n\n  const handleSubmit = e => {\n    if (user.email && user.password) {\n      createAccountAndLogin(user.name, user.email, user.password).then(res => {\n        setUser(res);\n      });\n    }\n\n    e.preventDefault();\n  };\n\n  const handleSignIn = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider).then(result => {\n      const user = result.user;\n      const {\n        displayName,\n        email\n      } = user;\n      const signInUser = {\n        name: displayName,\n        email\n      };\n      setLoggedInUser(signInUser);\n      history.replace(from);\n    }).catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      const email = error.email;\n      const credential = error.credential;\n      console.log(errorCode, errorMessage, email, credential);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-section text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onBlur: handleChange,\n          name: \"email\",\n          type: \"text\",\n          placeholder: \"your email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 106\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 111\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onBlur: handleChange,\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"your password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 118\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 123\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: user.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), user.success && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'green'\n          },\n          children: \"user create successfully\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"mb-4\",\n          type: \"submit\",\n          value: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-5\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 96\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), user.isSignUp && /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signIn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: googleIcon,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), \"  \", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"login-btn\",\n          onClick: handleSignIn,\n          type: \"button\",\n          value: \"Login with Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 67\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateAccount, \"s1lC4qdWLy1QE2GtFB+TgLJrDgs=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = CreateAccount;\nexport default CreateAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"sources":["/home/md/Desktop/web development with jhankar mahmud/royal-guest-full-stact-project/client/src/Components/UserSignUPAndSignIn/LoginUser/CreateAccount.js"],"names":["React","useContext","useState","firebase","googleIcon","UserContext","createAccountAndLogin","initializeFirebase","Redirect","useHistory","useLocation","Link","CreateAccount","loggedInUser","setLoggedInUser","history","location","from","state","pathname","user","setUser","isSignUp","name","email","password","error","success","handleChange","e","isInputValid","target","test","value","length","newUserInfo","handleSubmit","then","res","preventDefault","handleSignIn","provider","auth","GoogleAuthProvider","signInWithPopup","result","displayName","signInUser","replace","catch","errorCode","code","errorMessage","message","credential","console","log","color"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport googleIcon from '../../image/googleIcon.png';\nimport './Login.css';\nimport { UserContext } from '../../App';\nimport { createAccountAndLogin, initializeFirebase } from './LoginManager';\nimport { Redirect, useHistory, useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\n\n\nconst CreateAccount = () => {\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n    const history = useHistory();\n    const location = useLocation();\n    let { from } = location.state || { from: { pathname: \"/\" } };\n\n    const [user, setUser] = useState({\n        isSignUp: false,\n        name: '',\n        email: '',\n        password: '',\n        error: '',\n        success: false\n    })\n\n\n\n\n    initializeFirebase();\n\n\n    const handleChange = e => {\n        let  isInputValid;\n        if(e.target.name === 'email'){\n            isInputValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\n\n        }\n        if(e.target.name === 'password'){\n            isInputValid = e.target.value.length > 6;\n        }\n        if(isInputValid){\n            const newUserInfo = {...user};\n            newUserInfo[e.target.name] = e.target.value;\n            setUser(newUserInfo);\n        }\n    }\n    \n    const handleSubmit = e => {\n        if(user.email && user.password){\n            createAccountAndLogin(user.name,user.email, user.password)\n            .then(res => {\n                setUser(res);\n            })\n        }\n        e.preventDefault();\n    }\n\n    const handleSignIn = () =>{\n        const provider = new firebase.auth.GoogleAuthProvider();\n        firebase.auth().signInWithPopup(provider)\n        .then((result) => {\n          const user = result.user;\n          const {displayName, email} = user;\n          const signInUser = {name: displayName, email}; \n          setLoggedInUser(signInUser);\n          history.replace(from);\n        }).catch((error) => {\n          const errorCode = error.code;\n          const errorMessage = error.message;\n          const email = error.email;\n          const credential = error.credential;\n          console.log(errorCode, errorMessage, email, credential);\n        });\n    }\n    return (\n        <div>\n            <div className=\"login-section text-center\">\n                <h2>Create Account</h2>\n                <form onSubmit={handleSubmit}>\n                <input onBlur={handleChange} name='email' type=\"text\" placeholder='your email' required/><br/><br/>\n                <input onBlur={handleChange}  type=\"password\" name='password' placeholder='your password' required /><br/><br/>\n                <p style={{color:'red'}}>{user.error}</p>\n                {\n                    user.success && <p style={{color:'green'}}>user create successfully</p>\n                }\n                <input className='mb-4' type=\"submit\" value=\"Sign up\"/> <span className='ml-5'><Link to=\"/login\">login</Link></span>\n            </form>\n            {\n                user.isSignUp && <Redirect to='/login'/>\n            }\n                <div className=\"signIn\">\n                    <span> <img src={googleIcon} alt=\"\"/></span>  <input className='login-btn' onClick={handleSignIn} type=\"button\" value='Login with Google'/>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CreateAccount;"]},"metadata":{},"sourceType":"module"}